!function(){var t={KEY_FAVORITE:"favorite",KEY_CART:"cart"};function e(t,e){var n;n=t.length?t.map((function(t){var e=t.id,n=t.name,a=t.price,i=t.quantity;return'\n      <li class="list-item js-card" data-id="'.concat(e,'">\n        <h2 class="list-title">').concat(n,'</h2>\n        <div class="quantity-square">\n          <input type="number" class="quantity js-quantity" value="').concat(i,'" min="1">\n        </div>\n        <p class="js-total">price: ').concat(a*i,' грн.</p>\n        <div class="list-btn">\n          <button class="js-delete">Delete</button>\n        </div>\n      </li>\n      ')})).join(""):'\n      <li>\n        <img class="list-img" src="https://www.gmuprinthub.com/content/images/empty-cart.png" alt="404" style="width: 500px; height: auto;"/>\n      </li>\n    ',e.innerHTML=n}var n,a=document.querySelector(".js-list"),i=document.querySelector(".js-total"),c=document.querySelector(".js-buy"),s=null!==(n=JSON.parse(localStorage.getItem(t.KEY_CART)))&&void 0!==n?n:[];function r(){var t=s.reduce((function(t,e){return t+e.price*e.quantity}),0);i.textContent="Total: ".concat(t," грн.")}e(s,a),r(),a.addEventListener("click",(function(n){if(n.preventDefault(),n.target.classList.contains("js-delete")){var i=n.target.closest(".js-card").dataset.id,c=Number(i),l=s.findIndex((function(t){return t.id===c}));-1!==l&&(s.splice(l,1),localStorage.setItem(t.KEY_CART,JSON.stringify(s)),e(s,a),r())}})),a.addEventListener("input",(function(e){if(e.target.classList.contains("js-quantity")){var n=e.target.closest(".js-card").dataset.id,a=Number(n),i=s.findIndex((function(t){return t.id===a}));if(-1!==i){var c=parseInt(e.target.value);s[i].quantity=c;var l=e.target.closest(".js-card").querySelector(".js-total"),o=c*s[i].price;l.textContent="price: ".concat(o," грн."),localStorage.setItem(t.KEY_CART,JSON.stringify(s)),r()}}})),c.addEventListener("click",(function(n){n.preventDefault(),s.length=0,localStorage.setItem(t.KEY_CART,JSON.stringify(s)),e(s,a),r()}))}();
//# sourceMappingURL=cart.9094f576.js.map
