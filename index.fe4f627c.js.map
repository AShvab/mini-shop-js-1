{"mappings":"gfAAA,IAUoBA,EACJC,EAXhBC,EAAAC,EAAA,S,uCASMC,GADSC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAC9BC,EAAmE,QAArDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOC,sBAAc,IAArDb,IAAyD,GACvEc,EAA2D,QAAjDb,EAAAO,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOG,kBAAU,IAAjDd,IAAqD,GAgCrE,SAASe,EAAYC,GACnB,OAAOC,EAAAC,SAASC,MAAK,SAAAC,G,OAAKA,EAAFC,KAAgBL,C,KA9B1C,EAAAM,EAAAC,cAAaN,EAAAC,SAAUf,GAEvBA,EAAKqB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAMC,iBACFD,EAAME,OAAOC,UAAUC,SAAS,WAAY,CAC9C,IAAMR,EAASI,EAAME,OAAOG,QAAQ,YAAYC,QAAxCV,GACFW,EAAUjB,EAAYkB,OAAOZ,KACvC,EAAAa,EAAAC,aAAYH,E,CAEV,GAAIP,EAAME,OAAOC,UAAUC,SAAS,WAAY,CAC9C,IAAMO,EAASX,EAAME,OAAOG,QAAQ,YAAYC,QAAxCV,GACFgB,EAAUtB,EAAYkB,OAAOG,IACnCvB,EAAQyB,KAAKD,GACb5B,aAAa8B,QAAQtC,EAAAU,OAAOG,SAAUP,KAAKiC,UAAU3B,G,CAEvD,GAAIY,EAAME,OAAOC,UAAUC,SAAS,eAAgB,CAClD,IAAMY,EAAShB,EAAME,OAAOG,QAAQ,YAAYC,QAAxCV,GACFqB,EAAU3B,EAAYkB,OAAOQ,IAEnC,GADkBnC,EAAYqC,MAAK,SAAAvB,G,OAAKA,EAAFC,KAAgBqB,EAAQrB,E,IAE5D,OAEFf,EAAYgC,KAAKI,GACjBjC,aAAa8B,QAAQtC,EAAAU,OAAOC,aAAcL,KAAKiC,UAAUlC,G","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { products } from './helpers/products';\n\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst cartArr = JSON.parse(localStorage.getItem(common.KEY_CART)) ?? [];\n\n\ncreateMarkup(products, list);\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  event.preventDefault();\n  if (event.target.classList.contains('js-info')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\ncreateModal(product)\n  }\n  if (event.target.classList.contains('js-cart')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    cartArr.push(product);\n    localStorage.setItem(common.KEY_CART, JSON.stringify(cartArr));\n  }\n  if (event.target.classList.contains('js-favorite')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n\nfunction findProduct(productId) {\n  return products.find(({ id }) => id === productId);\n}\n"],"names":["$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$7jJJd","parcelRequire","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$b8f9b7833fa37166$var$cartArr","KEY_CART","$b8f9b7833fa37166$var$findProduct","productId","$3gvGl","products","find","param","id","$l1rGz","createMarkup","addEventListener","event","preventDefault","target","classList","contains","closest","dataset","product","Number","$87LyB","createModal","id1","product1","push","setItem","stringify","id2","product2","some"],"version":3,"file":"index.fe4f627c.js.map"}