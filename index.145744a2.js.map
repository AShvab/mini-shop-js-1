{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPN,OAAOC,eAAeK,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,cCfXN,OAAOC,eAAeU,EAAS,aAAc,CACzCP,OAAO,IAEXO,EAAQN,QAER,SAAuBO,GACnB,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAI,CACrC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAC/CI,EAAUjB,OAAOkB,KAAKF,GACkB,mBAAjChB,OAAOmB,wBACdF,EAAUA,EAAQG,OAAOpB,OAAOmB,sBAAsBH,GAAQK,QAAO,SAASC,GAC1E,OAAOtB,OAAOuB,yBAAyBP,EAAQM,GAAKd,U,MAG5DS,EAAQO,SAAQ,SAASjB,GACrBkB,EAAqBpB,QAAQO,EAAQL,EAAKS,EAAOT,G,IAGzD,OAAOK,C,EAdX,IAgBgCN,EAhB5BmB,GAgB4BnB,EAhBaoB,EAAA,WAiB3BpB,EAAIqB,WAAarB,EAAM,CACjCD,QAASC,G,ICdGsB,EACJC,E,oDAFVC,GADSC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAC9BC,EAAmE,QAArDL,EAAAM,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDZ,IAAyD,GACvEa,EAA2D,QAAjDZ,EAAAK,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOG,kBAAU,IAAjDb,IAAqD,GAwCrE,SAASc,EAAYC,GACnB,OAAOC,EAAAC,SAASC,MAAK,SAAAC,G,OAAKA,EAAFC,KAAgBL,C,KAvC1C,EAAAM,EAAAC,cAAaN,EAAAC,SAAUhB,GAEvBA,EAAKsB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAMC,iBACFD,EAAMzC,OAAO2C,UAAUC,SAAS,WAAY,CAC9C,IAAMP,EAASI,EAAMzC,OAAO6C,QAAQ,YAAYC,QAAxCT,GACFU,EAAUhB,EAAYiB,OAAOX,KACnC,EAAAY,EAAAC,aAAYH,E,CAEd,GAAIN,EAAMzC,OAAO2C,UAAUC,SAAS,WAAY,CAC9C,IAAMO,EAASV,EAAMzC,OAAO6C,QAAQ,YAAYC,QAAxCT,GACFe,EAAUrB,EAAYiB,OAAOG,IAE7BE,EAAuBxB,EAAQyB,WACnC,SAAAC,G,OAAQA,EAAKlB,KAAOe,EAAQf,E,KAED,IAAzBgB,GACFxB,EAAQwB,GAAsBG,WAC9BhC,aAAaiC,QAAQ/B,EAAAC,OAAOG,SAAUR,KAAKoC,UAAU7B,MAErDA,EAAQ8B,KAAKC,EAAA7D,EAAA,IAAKqD,EAAO,CAAEI,SAAU,KACrChC,aAAaiC,QAAQ/B,EAAAC,OAAOG,SAAUR,KAAKoC,UAAU7B,I,CAGzD,GAAIY,EAAMzC,OAAO2C,UAAUC,SAAS,eAAgB,CAClD,IAAMiB,EAASpB,EAAMzC,OAAO6C,QAAQ,YAAYC,QAAxCT,GACFyB,EAAU/B,EAAYiB,OAAOa,IAEnC,GADkBxC,EAAY0C,MAAK,SAAA3B,G,OAAKA,EAAFC,KAAgByB,EAAQzB,E,IAE5D,OAEFhB,EAAYsC,KAAKG,GACjBtC,aAAaiC,QAAQ/B,EAAAC,OAAOC,aAAcN,KAAKoC,UAAUrC,G","sources":["node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_object_spread.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { products } from './helpers/products';\n\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst cartArr = JSON.parse(localStorage.getItem(common.KEY_CART)) ?? [];\n\ncreateMarkup(products, list);\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  event.preventDefault();\n  if (event.target.classList.contains('js-info')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    createModal(product);\n  }\n  if (event.target.classList.contains('js-cart')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n\n    const existingProductIndex = cartArr.findIndex(\n      item => item.id === product.id\n    );\n    if (existingProductIndex !== -1) {\n      cartArr[existingProductIndex].quantity++;\n      localStorage.setItem(common.KEY_CART, JSON.stringify(cartArr));\n    } else {\n      cartArr.push({ ...product, quantity: 1 });\n      localStorage.setItem(common.KEY_CART, JSON.stringify(cartArr));\n    }\n  }\n  if (event.target.classList.contains('js-favorite')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n\nfunction findProduct(productId) {\n  return products.find(({ id }) => id === productId);\n}\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$9eddae5a012cde57$exports","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","parcelRequire","__esModule","$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","$7jJJd","common","KEY_FAVORITE","$b8f9b7833fa37166$var$cartArr","KEY_CART","$b8f9b7833fa37166$var$findProduct","productId","$3gvGl","products","find","param","id","$l1rGz","createMarkup","addEventListener","event","preventDefault","classList","contains","closest","dataset","product","Number","$87LyB","createModal","id1","product1","existingProductIndex","findIndex","item","quantity","setItem","stringify","push","$parcel$interopDefault","id2","product2","some"],"version":3,"file":"index.145744a2.js.map"}