{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,uCAQaC,EAHPC,EAAOC,SAASC,cAAc,YAG9BC,GAFgBF,SAASC,cAAc,gBAEiB,QAAjDH,EAAAK,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,kBAAU,IAAjDV,IAAqD,KAClE,EAAAW,EAAAC,kBAAiBR,EAAMH,GAGvBA,EAAKY,iBAAiB,SAWtB,SAAuBC,GAEnB,GADAA,EAAMC,iBACFD,EAAME,OAAOC,UAAUC,SAAS,aAAc,CAChD,IAAMC,EAASL,EAAME,OAAOI,QAAQ,YAAYC,QAAxCF,GACFG,EAAYC,OAAOJ,GAEnBK,EAAQpB,EAAKqB,WAAU,SAAAC,G,OAAQA,EAAKP,KAAOG,C,IAEjD,IAAc,IAAVE,EAMF,OALApB,EAAKuB,OAAOH,EAAO,GAEnBjB,aAAaqB,QAAQ9B,EAAAW,OAAOC,SAAUL,KAAKwB,UAAUzB,KAErD,EAAAO,EAAAC,kBAAiBR,EAAMH,GAChBG,C","sources":["src/cart.js"],"sourcesContent":["import { common } from './common';\nimport { createCartMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { products } from './helpers/products';\n\nconst list = document.querySelector('.js-list');\nconst quantityInput = document.querySelector('.js-quantity');\n\nconst cart = JSON.parse(localStorage.getItem(common.KEY_CART)) ?? [];\ncreateCartMarkup(cart, list); \n\n// list.addEventListener('click', onClick);\nlist.addEventListener('click', onDeleteClick);\n\n// function onClick(event) {\n//   event.preventDefault();\n//   if (event.target.classList.contains('js-info')) {\n//     const { id } = event.target.closest('.js-card').dataset;\n//     const product = findProduct(Number(id));\n//     createModal(product);\n//   }\n// }\n\nfunction onDeleteClick(event) {\n    event.preventDefault();\n    if (event.target.classList.contains('js-delete')) {\n      const { id } = event.target.closest('.js-card').dataset;\n      const productId = Number(id);\n  \n      const index = cart.findIndex(item => item.id === productId);\n  \n      if (index !== -1) {\n        cart.splice(index, 1);\n  \n        localStorage.setItem(common.KEY_CART, JSON.stringify(cart));\n  \n        createCartMarkup(cart, list);\n        return cart\n      }\n    }\n  }\n  \n  function findProduct(productId) {\n    return products.find(({ id }) => id === productId);\n  }\n \n\n"],"names":["$7jJJd","parcelRequire","$81a7916dcdcfa57d$var$ref","$81a7916dcdcfa57d$var$list","document","querySelector","$81a7916dcdcfa57d$var$cart","JSON","parse","localStorage","getItem","common","KEY_CART","$l1rGz","createCartMarkup","addEventListener","event","preventDefault","target","classList","contains","id","closest","dataset","productId","Number","index","findIndex","item","splice","setItem","stringify"],"version":3,"file":"cart.efd2ab33.js.map"}