{"mappings":"gfAAA,IASiBA,EATjBC,EAAAC,EAAA,S,uCAOMC,EAAOC,SAASC,cAAc,YAE9BC,EAAgE,QAArDN,EAAAO,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOC,sBAAc,IAArDZ,IAAyD,IAC1E,EAAAa,EAAAC,sBAAqBR,EAAUH,GAE/BA,EAAKY,iBAAiB,SAGtB,SAAiBC,GAEf,GADAA,EAAMC,iBACFD,EAAME,OAAOC,UAAUC,SAAS,WAAY,CAC9C,IAAMC,EAASL,EAAME,OAAOI,QAAQ,YAAYC,QAAxCF,GACFG,GAuBWC,EAvBWC,OAAOL,GAwB9BM,EAAAC,SAASC,MAAK,SAAAC,G,OAAKA,EAAFT,KAAgBI,C,MAvBtC,EAAAM,EAAAC,aAAYR,E,CAsBhB,IAAqBC,C,IA7BrBtB,EAAKY,iBAAiB,SAWtB,SAAuBC,GAErB,GADAA,EAAMC,iBACFD,EAAME,OAAOC,UAAUC,SAAS,aAAc,CAChD,IAAMC,EAASL,EAAME,OAAOI,QAAQ,YAAYC,QAAxCF,GACFI,EAAYC,OAAOL,GAEnBY,EAAQ3B,EAAS4B,WAAU,SAAAC,G,OAAQA,EAAKd,KAAOI,C,KAEvC,IAAVQ,IACF3B,EAAS8B,OAAOH,EAAO,GAEvBxB,aAAa4B,QAAQpC,EAAAU,OAAOC,aAAcL,KAAK+B,UAAUhC,KAEzD,EAAAO,EAAAC,sBAAqBR,EAAUH,G","sources":["src/favorite.js"],"sourcesContent":["import { common } from './common';\nimport { createFavoriteMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { products } from './helpers/products';\n\n\n\nconst list = document.querySelector('.js-list');\n\nconst favorite = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\ncreateFavoriteMarkup(favorite, list);\n\nlist.addEventListener('click', onClick);\nlist.addEventListener('click', onDeleteClick);\n\nfunction onClick(event) {\n  event.preventDefault();\n  if (event.target.classList.contains('js-info')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    createModal(product);\n  }\n}\n\nfunction onDeleteClick(event) {\n  event.preventDefault();\n  if (event.target.classList.contains('js-delete')) {\n    const { id } = event.target.closest('.js-card').dataset;\n    const productId = Number(id);\n\n    const index = favorite.findIndex(item => item.id === productId);\n\n    if (index !== -1) {\n      favorite.splice(index, 1);\n\n      localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favorite));\n\n      createFavoriteMarkup(favorite, list);\n    }\n  }\n}\n\nfunction findProduct(productId) {\n  return products.find(({ id }) => id === productId);\n}\n\n\n"],"names":["$19661b0c25203147$var$ref","$7jJJd","parcelRequire","$19661b0c25203147$var$list","document","querySelector","$19661b0c25203147$var$favorite","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$l1rGz","createFavoriteMarkup","addEventListener","event","preventDefault","target","classList","contains","id","closest","dataset","product","productId","Number","$3gvGl","products","find","param","$87LyB","createModal","index","findIndex","item","splice","setItem","stringify"],"version":3,"file":"favorite.ca3205fc.js.map"}