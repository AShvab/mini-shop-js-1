{"mappings":"YACA,IAAMA,EAAQ,CACVC,aAAe,WACfC,SAAW,QCyDf,SAASC,EAAiBC,EAAKC,GAC7B,IAAIC,EAEFA,EADEF,EAAIG,OACGH,EACNI,KACC,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAIF,EAAJE,KAAMC,EAAKH,EAALG,MAAOC,EAAQJ,EAARI,S,MAClB,kDAGqBC,OAFgBJ,EAAG,4CAIgBI,OAFnCH,EAAK,gHAKDG,OAH+BD,EAAS,qEAGvBC,OAAjBF,EAAQC,EAAS,8K,IAQ7CE,KAAK,IAEE,0KAIZV,EAAKW,UAAYV,C,CCxFnB,ICQaW,EAHPC,EAAOC,SAASC,cAAc,YAG9BC,GAFgBF,SAASC,cAAc,gBAEiB,QAAjDH,EAAAK,KAAKC,MAAMC,aAAaC,QAAQzB,EAAOE,kBAAU,IAAjDe,IAAqD,IAClEd,EAAiBkB,EAAMH,GAGvBA,EAAKQ,iBAAiB,SAGtB,SAAuBC,GAEnB,GADAA,EAAMC,iBACFD,EAAME,OAAOC,UAAUC,SAAS,aAAc,CAChD,IAAMrB,EAASiB,EAAME,OAAOG,QAAQ,YAAYC,QAAxCvB,GACFwB,EAAYC,OAAOzB,GAEnB0B,EAAQf,EAAKgB,WAAU,SAAAC,G,OAAQA,EAAK5B,KAAOwB,C,IAEjD,IAAc,IAAVE,EAMF,OALAf,EAAKkB,OAAOH,EAAO,GAEnBZ,aAAagB,QAAQxC,EAAOE,SAAUoB,KAAKmB,UAAUpB,IAErDlB,EAAiBkB,EAAMH,GAChBG,C,KAhBfH,EAAKQ,iBAAiB,SA0BpB,SAA0BC,GACxB,GAAIA,EAAME,OAAOC,UAAUC,SAAS,eAAgB,CAClD,IAAMrB,EAASiB,EAAME,OAAOG,QAAQ,YAAYC,QAAxCvB,GACFwB,EAAYC,OAAOzB,GACnBgC,EAAerB,EAAKgB,WAAU,SAAAC,G,OAAQA,EAAK5B,KAAOwB,C,IAExD,IAAqB,IAAjBQ,EAAqB,CACvB,IAAMC,EAAcC,SAASjB,EAAME,OAAOgB,OAC1CxB,EAAKqB,GAAc7B,SAAW8B,EAC9B,IAAMG,EAAoBnB,EAAME,OAAOG,QAAQ,YAAYZ,cAAc,aACnE2B,EAAaJ,EAActB,EAAKqB,GAAc9B,MACpDkC,EAAkBE,YAAc,UAAqBlC,OAAXiC,EAAW,SAErDvB,aAAagB,QAAQxC,EAAOE,SAAUoB,KAAKmB,UAAUpB,G","sources":["src/common.js","src/helpers/createMarkup.js","src/helpers/products.js","src/cart.js"],"sourcesContent":["\nconst common ={\n    KEY_FAVORITE : 'favorite',\n    KEY_CART : 'cart',\n}\n\n\nexport {common}","function createMarkup(arr, list) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({ id, img, name, price }) =>\n          `\n  <li class=\"list-item js-card\" data-id=\"${id}\">\n  <img class=\"list-img\" src=\"${img}\" alt=\"${name}\" />\n  <h2 class=\"list-title\">${name}</h2>\n  <p class=\"list-link\">\n  <a href=\"#\" class=\"js-info\">More info</a>\n  </p>\n  <p >${price} грн.</p>\n  <div class=\"list-btn\">\n  <button class=\"js-favorite\">Add to favorite</button>\n  <button class=\"js-cart\">Add to cart</button>\n  </div>\n  </li>\n  `\n      )\n      .join('');\n  } else {\n    markup = `<li >\n      <img class=\"list-img\" src=\"https://im.indiatimes.in/media/content/2017/Dec/quickmeme_1514290406_725x725.jpg\" alt=\"404\" style=\"width: 400px; height: auto;\"/>\n      </li>`;\n  }\n  list.innerHTML = markup;\n}\n\nfunction createFavoriteMarkup(arr, list) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({ id, img, name, price }) =>\n          `\n    <li class=\"list-item js-card\" data-id=\"${id}\">\n    <img class=\"list-img\" src=\"${img}\" alt=\"${name}\" />\n    <h2 class=\"list-title\">${name}</h2>\n    <p class=\"list-link\">\n    <a href=\"#\" class=\"js-info\">More info</a>\n    </p>\n    <p>price: ${price} грн.</p>\n    <div class=\"list-btn\">\n    <button class=\"js-delete\">Delete</button>\n    <button class=\"js-cart\">Add to cart</button>\n    </div>\n    </li>\n    `\n      )\n      .join('');\n  } else {\n    markup = `<li >\n        <img class=\"list-img\" src=\"https://i.ytimg.com/vi/0epmoPKTP3g/maxresdefault.jpg\" alt=\"404\" style=\"width: 500px; height: auto;\"/>\n        </li>`;\n  }\n  list.innerHTML = markup;\n}\n\nfunction createCartMarkup(arr, list) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({ id, name, price, quantity }) =>\n          `\n      <li class=\"list-item js-card\" data-id=\"${id}\">\n     \n      <h2 class=\"list-title\">${name}</h2>\n      <div class=\"quantity-square\">\n      <input type=\"number\" class=\"quantity js-quantity \" value=\"${quantity}\" min=\"1\">\n    </div>\n      \n      <p class=\"js-total\">price: ${price * quantity} грн.</p>\n      <div class=\"list-btn\">\n      <button class=\"js-delete\">Delete</button>\n      <button class=\"js-cart\">Buy now</button>\n      </div>\n      </li>\n      `\n      )\n      .join('');\n  } else {\n    markup = `<li >\n          <img class=\"list-img\" src=\"https://www.gmuprinthub.com/content/images/empty-cart.png\" alt=\"404\" style=\"width: 500px; height: auto;\"/>\n          </li>`;\n  }\n  list.innerHTML = markup;\n}\n\nexport { createMarkup, createFavoriteMarkup, createCartMarkup };\n","const products = [\n    {\n      id: 1,\n      img: 'https://via.placeholder.com/150',\n      name: 'test1',\n      price: 1000,\n      quantity: 1,\n      description:\n        'Повний і збалансований склад, багатий на вітаміни та мінерали.',\n    },\n    {\n      id: 2,\n      img: 'https://via.placeholder.com/150',\n      name: 'test2',\n      price: 1000,\n      quantity: 1,\n      description: 'Смачний та корисний корм з найкращих рибних інгредієнтів.',\n    },\n    {\n      id: 3,\n      img: 'https://via.placeholder.com/150',\n      name: 'test3',\n      price: 1000,\n      quantity: 1,\n      description:\n        \"Спеціально розроблений для підтримки здоров'я зубів гризунів.\",\n    },\n    {\n      id: 4,\n      img: 'https://via.placeholder.com/150',\n      name: 'test4',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 5,\n      img: 'https://via.placeholder.com/150',\n      name: 'test5',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 6,\n      img: 'https://via.placeholder.com/150',\n      name: 'test6',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 7,\n      img: 'https://via.placeholder.com/150',\n      name: 'test7',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 8,\n      img: 'https://via.placeholder.com/150',\n      name: 'test8',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 9,\n      img: 'https://via.placeholder.com/150',\n      name: 'test9',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 10,\n      img: 'https://via.placeholder.com/150',\n      name: 'test10',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 11,\n      img: 'https://via.placeholder.com/150',\n      name: 'test11',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 12,\n      img: 'https://via.placeholder.com/150',\n      name: 'test12',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 13,\n      img: 'https://via.placeholder.com/150',\n      name: 'test13',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 14,\n      img: 'https://via.placeholder.com/150',\n      name: 'test14',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 15,\n      img: 'https://via.placeholder.com/150',\n      name: 'test15',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 16,\n      img: 'https://via.placeholder.com/150',\n      name: 'test16',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 17,\n      img: 'https://via.placeholder.com/150',\n      name: 'test17',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 18,\n      img: 'https://via.placeholder.com/150',\n      name: 'test18',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 19,\n      img: 'https://via.placeholder.com/150',\n      name: 'test19',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 20,\n      img: 'https://via.placeholder.com/150',\n      name: 'test20',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 21,\n      img: 'https://via.placeholder.com/150',\n      name: 'test21',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 22,\n      img: 'https://via.placeholder.com/150',\n      name: 'test22',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 23,\n      img: 'https://via.placeholder.com/150',\n      name: 'test23',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n    {\n      id: 24,\n      img: 'https://via.placeholder.com/150',\n      name: 'test24',\n      price: 1000,\n      quantity: 1,\n      description: 'test description',\n    },\n  ];\n\n  export {products}","import { common } from './common';\nimport { createCartMarkup } from './helpers/createMarkup';\n\nimport { products } from './helpers/products';\n\nconst list = document.querySelector('.js-list');\nconst quantityInput = document.querySelector('.js-quantity');\n\nconst cart = JSON.parse(localStorage.getItem(common.KEY_CART)) ?? [];\ncreateCartMarkup(cart, list); \n\n\nlist.addEventListener('click', onDeleteClick);\nlist.addEventListener('input', onQuantityChange);\n\nfunction onDeleteClick(event) {\n    event.preventDefault();\n    if (event.target.classList.contains('js-delete')) {\n      const { id } = event.target.closest('.js-card').dataset;\n      const productId = Number(id);\n  \n      const index = cart.findIndex(item => item.id === productId);\n  \n      if (index !== -1) {\n        cart.splice(index, 1);\n  \n        localStorage.setItem(common.KEY_CART, JSON.stringify(cart));\n  \n        createCartMarkup(cart, list);\n        return cart\n      }\n    }\n  }\n  \n  function findProduct(productId) {\n    return products.find(({ id }) => id === productId);\n  }\n \n\n  function onQuantityChange(event) {\n    if (event.target.classList.contains('js-quantity')) {\n      const { id } = event.target.closest('.js-card').dataset;\n      const productId = Number(id);\n      const productIndex = cart.findIndex(item => item.id === productId);\n  \n      if (productIndex !== -1) {\n        const newQuantity = parseInt(event.target.value);\n        cart[productIndex].quantity = newQuantity;\n        const totalPriceElement = event.target.closest('.js-card').querySelector('.js-total');\n        const totalPrice = newQuantity * cart[productIndex].price;\n        totalPriceElement.textContent = `price: ${totalPrice} грн.`;\n  \n        localStorage.setItem(common.KEY_CART, JSON.stringify(cart));\n      }\n    }\n  }\n  \n"],"names":["$553dc769982d198b$export$919daad019702595","KEY_FAVORITE","KEY_CART","$f4df2ac45960cbd0$export$af42f604a5c132a9","arr","list","markup","length","map","param","id","name","price","quantity","concat","join","innerHTML","$81a7916dcdcfa57d$var$ref","$81a7916dcdcfa57d$var$list","document","querySelector","$81a7916dcdcfa57d$var$cart","JSON","parse","localStorage","getItem","addEventListener","event","preventDefault","target","classList","contains","closest","dataset","productId","Number","index","findIndex","item","splice","setItem","stringify","productIndex","newQuantity","parseInt","value","totalPriceElement","totalPrice","textContent"],"version":3,"file":"cart.928b51b7.js.map"}